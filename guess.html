<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>猜數字遊戲</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <style>
      :root{
        --bg1:#0f172a;
        --bg2:#0b2545;
        --card:#0f172a;
        --accent:#06b6d4;
        --success:#10b981;
        --danger:#ef4444;
      }
      *{box-sizing:border-box}
      body{
        margin:0;
        font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        min-height:100vh;
        display:flex;
        align-items:center;
        justify-content:center;
        background:linear-gradient(135deg,var(--bg1),var(--bg2));
        color:#e6eef8;
        transition:background 500ms ease;
        padding:24px;
      }
      .card{
        width:100%;
        max-width:540px;
        background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
        border-radius:14px;
        padding:28px;
        box-shadow: 0 10px 30px rgba(2,6,23,0.6);
        backdrop-filter: blur(6px);
        position:relative;
        overflow:visible;
      }
      h1{margin:0 0 8px 0; font-size:1.6rem}
      .meta{color:rgba(230,238,248,0.7); font-size:0.95rem; margin-bottom:16px}
      .controls{display:flex; gap:12px; align-items:center}
      input[type=number].guessField{
        -webkit-appearance:none;
        appearance:none;
        width:120px;
        padding:10px 12px;
        border-radius:8px;
        border:1px solid rgba(255,255,255,0.08);
        background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        color:var(--accent);
        font-weight:600;
        font-size:1rem;
      }
      button.guessSubmit{
        padding:10px 14px;
        border-radius:8px;
        border:0;
        background:linear-gradient(90deg,var(--accent),#7dd3fc);
        color:#04263a;
        font-weight:700;
        cursor:pointer;
        box-shadow: 0 6px 18px rgba(6,182,212,0.14);
        transition:transform 140ms ease, box-shadow 140ms;
      }
      button.guessSubmit:active{transform:translateY(1px)}
      .info-row{display:flex; gap:12px; margin-top:14px; align-items:center; flex-wrap:wrap}
      .result{font-size:1.05rem; min-width:180px}
      .count{font-size:0.95rem; color:rgba(230,238,248,0.75)}
      .prev{color:rgba(255,255,255,0.6); font-size:0.9rem; margin-top:10px}
      .badge{
        display:inline-block;
        padding:6px 10px;
        border-radius:999px;
        background:rgba(255,255,255,0.03);
        font-weight:700;
        color:var(--accent);
        border:1px solid rgba(255,255,255,0.03);
      }

      /* animations */
      .shake{
        animation:shake 420ms cubic-bezier(.36,.07,.19,.97);
      }
      @keyframes shake{
        10%,90%{transform:translateX(-2px)}
        20%,80%{transform:translateX(4px)}
        30%,50%,70%{transform:translateX(-6px)}
      }
      .pulse{
        animation:pulse 600ms ease;
      }
      @keyframes pulse{
        0%{transform:scale(1)}
        50%{transform:scale(1.06)}
        100%{transform:scale(1)}
      }
      /* proximity glow */
      .glow-close{ box-shadow: 0 6px 40px rgba(255,165,0,0.08) }
      .glow-veryclose{ box-shadow: 0 10px 50px rgba(255,69,96,0.12) }

      /* confetti canvas sits over card */
      canvas#confetti{
        pointer-events:none;
        position:absolute;
        inset:0;
        width:100%;
        height:100%;
      }

      footer.hint{margin-top:16px; font-size:0.85rem; color:rgba(230,238,248,0.6)}
      @media (max-width:520px){
        .controls{flex-direction:column; align-items:stretch}
        input.guessField{width:100%}
      }
    </style>
    <script src="guess.js" defer></script>
</head>
<body>
  <div class="card" role="main">
    <canvas id="confetti"></canvas>
    <h1>猜數字遊戲</h1>
    <div class="meta">從 1 到 100 中猜一個數字。系統會根據猜測距離與次數提供視覺與音效回饋。</div>

    <div class="controls">
      <label for="guessField" style="display:none">猜一個數字</label>
      <input type="number" class="guessField" id="guessField" min="1" max="100" placeholder="輸入數字">
      <button class="guessSubmit">提交</button>
      <div class="badge" id="statusBadge">準備中</div>
    </div>

    <div class="info-row">
      <div class="result" id="result">等待你的第一個猜測…</div>
      <div class="count" id="count">已猜次數：0</div>
    </div>

    <div class="prev" id="prevGuesses"></div>
    <footer class="hint">提示：靠近時會有色彩與音調變化，猜中會有動畫與勝利音效。</footer>
  </div>
</body>
</html>
